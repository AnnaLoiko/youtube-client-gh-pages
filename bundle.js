!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";var r;n.r(t);var i=function(){(r=document.createElement("div")).classList.add("loader"),C.appendChild(r)},a=function(){r=document.body.querySelector(".loader"),C.removeChild(r)};function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o,l,d,s=function(){function e(t,n,r,i,a,c,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=t,this.title=n,this.urlPreview=r,this.author=i,this.date=a,this.count=c,this.description=o}var t,n,r;return t=e,(n=[{key:"renderItemHtml",value:function(){var e=document.createElement("li");e.classList.add("video-item");var t=document.createElement("h2");t.innerHTML="<a href='https://www.youtube.com/embed/".concat(this.id,"' target='_blank'>").concat(this.title,"</a>");var n=document.createElement("img");n.setAttribute("alt",this.title),n.setAttribute("src",this.urlPreview),e.appendChild(t),e.appendChild(n),T.appendChild(e);var r=document.createElement("div");r.classList.add("video-item-info"),r.innerHTML='<div class="video-item-autor">'.concat(this.author,'</div><div class="video-item-date">').concat(this.date,'</div><div class="video-item-rate">').concat(this.count,'</div><p class="video-item-description">').concat(this.description,"</p>"),e.appendChild(r)}}])&&c(t.prototype,n),r&&c(t,r),e}(),u=function(e){return 0===e.items.length&&""===T.innerHTML&&A(),e.items.forEach(function(e){var t,n,r,c,o=e.id.videoId,l=e.snippet.thumbnails.medium.url,d=e.snippet,u=d.title,v=d.channelTitle,f=d.description,h=d.publishedAt,m=(t=Date.parse(h),n=new Date(t),r=(n.getDate()<10?"0":"")+n.getDate(),c=n.getMonth()+1,r+"."+(c=(c<10?"0":"")+c)+"."+n.getFullYear());fetch("https://www.googleapis.com/youtube/v3/videos?key=AIzaSyCTWC75i70moJLzyNh3tt4jzCljZcRkU8Y&id=".concat(o,"&part=snippet,statistics")).then(function(e){return e.json()}).then(function(e){var t;t=0!==e.items.length?e.items[0].statistics.viewCount:"-";var n=new s(o,u,l,v,m,t,f);return L.push(n),n.renderItemHtml(),a(),L}).catch(i())}),x(e.items.length),L},v=function(e){return fetch(e).then(function(e){return e.json()}).then(function(e){u(e),d=e.nextPageToken,a()}).catch(i())};function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var h,m,p,g,y,b=function(){function e(t,n,r,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.countBtnNavs=t,this.toSlide=n,this.page=r,this.current=i}var t,n,r;return t=e,(n=[{key:"renderBasePageNavBtn",value:function(){var e=document.createElement("li");e.innerHTML='<a href="#" data-page='.concat(this.page," data-toSlide=").concat(this.toSlide,">").concat(this.page,"</a>"),void 0!==this.current&&e.children[0].classList.add("current"),S.appendChild(e)}},{key:"renderNewPageNavBtn",value:function(){var e=document.createElement("li");e.innerHTML='<a href="#" data-page='.concat(this.countBtnNavs+1," data-toSlide=").concat(this.toSlide,">").concat(this.countBtnNavs+1,"</a>"),S.appendChild(e)}}])&&f(t.prototype,n),r&&f(t,r),e}(),L=[],E=document.createElement("form"),w=document.createElement("input"),C=document.createElement("div"),S=document.createElement("ul"),T=document.createElement("ul"),M=document.createElement("div"),A=function(){M.classList.add("no-response"),M.textContent="Сожалеем, по данному запросу ".concat(o," ничего не найдено. Попробуйте, пожалуйста, еще раз"),E.appendChild(M)},x=function(e,t){var n,r,i=1,a=window.innerWidth;if(a<600?n=1:a>=600&&a<900?n=2:a>=900&&a<1200?n=3:a>=1200&&(n=4),void 0!==t&&(r=Math.ceil(t/n)),""!==S.innerHTML){var c=S.children.length;new b(c,i=c*n).renderNewPageNavBtn();var o=document.body.querySelector(".current");return o.classList.remove("current"),o.parentElement.nextElementSibling.children[0].classList.add("current"),null}for(var l=Math.ceil(e/n),d=1;d<=l;d+=1){(1===d&&void 0===r||d===r?new b(l,i,d,"current"):new b(l,i,d)).renderBasePageNavBtn(),i+=n}return S},H=function(e){if(void 0!==d)return!0;var t,n=window.innerWidth;return n<600?t=300:n>=600&&n<900?t=600:n>=900&&n<1200?t=900:n>=1200&&(t=1200),!(e-t<=300*-L.length)},j=function(e,t,n){var r,i,a=((i=window.innerWidth)<600?r=1:i>=600&&i<900?r=2:i>=900&&i<1200?r=3:i>=1200&&(r=4),300*r);if(+document.body.querySelector(".current").getAttribute("data-page")==S.children.length-1&&void 0!==d){var c="".concat(l,"&pageToken=").concat(d);v(c)}if(n<t&&e<=0){if(!H(e))return null;if(void 0===d)return null;T.style.marginLeft=e+-a+"px";var o=S.children.length-1;if(S.children[o].children[0].classList.contains("current")){if(void 0===d)return null;var s="".concat(l,"&pageToken=").concat(d);v(s)}else{var u=document.body.querySelector(".current");u.parentElement.nextElementSibling.children[0].classList.add("current"),u.classList.remove("current")}}else if(e>0)T.style.marginLeft=0;else{if(0===e)return null;if(S.children[0].children[0].classList.contains("current"))return T.style.marginLeft=0,null;var f=document.body.querySelector(".current");f.parentElement.previousElementSibling.children[0].classList.add("current"),f.classList.remove("current"),T.style.marginLeft=e+a+"px"}return T.style.marginLeft};function k(){y&&(document.body.removeChild(y),y=null)}document.addEventListener("DOMContentLoaded",function(){E.setAttribute("class","search-form"),w.setAttribute("type","text"),w.setAttribute("name","search"),w.setAttribute("placeholder","search");var e=document.createElement("button");e.setAttribute("type","submit"),e.setAttribute("id","searchVideo"),document.body.insertBefore(E,document.body.children[0]),E.appendChild(w),E.appendChild(e)}),E.addEventListener("submit",function(e){e.preventDefault(),function(){if(""===C.innerHTML){C.classList.add("carousel"),document.body.insertBefore(C,document.body.children[1]);var e=document.createElement("div");e.classList.add("video-list-box"),C.appendChild(e),T.classList.add("video-list"),T.style.marginLeft=0,T.style.marginRight=0,T.setAttribute("id","videoList"),e.appendChild(T),S.classList.add("slider-nav"),S.setAttribute("id","sliderNav"),C.appendChild(S)}else L=[],localStorage.clear(),T.innerHTML="",T.style.marginLeft="0",T.style.marginRight="0",S.innerHTML="",M.remove()}(),""!==(o=w.value.toLowerCase().trim().replace(" ","_").replace(/ +/g," "))&&(l="https://www.googleapis.com/youtube/v3/search?part=snippet&key=AIzaSyBrmaj7j0yIJGWcGPYH3THz_Rh8BYAtlQs&q=".concat(o,"&maxResults=15&q=js;"),v(l))}),S.addEventListener("click",function(e){var t;if(e.preventDefault(),e.target.parentElement.parentElement===S&&(null!==S.querySelector(".current")&&S.querySelector(".current").classList.remove("current"),e.target.classList.add("current")),+e.target.getAttribute("data-page")===S.children.length&&void 0!==d){var n="".concat(l,"&pageToken=").concat(d);v(n)}t=300*e.target.getAttribute("data-toSlide")-300,T.style.marginLeft=-t+"px"}),S.addEventListener("mouseover",function(e){var t=e.target,n=t.getAttribute("data-page");if(n){var r=document.createElement("div");r.className="tooltip",r.innerHTML=n,document.body.appendChild(r);var i=t.getBoundingClientRect(),a=i.left+(t.offsetWidth-r.offsetWidth)/3;a<0&&(a=0);var c=i.top-r.offsetHeight;c<0&&(c=i.top+t.offsetHeight+5),r.style.left=a+"px",r.style.top=c+"px",y=r}}),S.addEventListener("mouseout",k),T.addEventListener("touchstart",function(e){p=e.changedTouches[0]}),T.addEventListener("touchend",function(e){g=e.changedTouches[0];var t=Math.abs(p.pageX-g.pageX),n=parseInt(T.style.marginLeft,10),r=g.pageX,i=p.pageX;t>20&&j(n,i,r)}),T.addEventListener("mousedown",function(e){e.preventDefault(),h=e.clientX}),T.addEventListener("mouseup",function(e){m=e.clientX;var t=Math.abs(h-m),n=parseInt(T.style.marginLeft,10);t>20&&j(n,h,m)}),document.addEventListener("click",k),window.addEventListener("resize",function(){var e;null!==S.querySelector(".current")&&(e=S.querySelector(".current").getAttribute("data-toslide")),S.innerHTML="",x(L.length,e);var t=parseInt(T.style.marginLeft,10);H(t)})}]);
//# sourceMappingURL=bundle.js.map